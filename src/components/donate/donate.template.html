
<app-location
    route="{{route}}"
    url-space-regex="^[[rootPath]]">
</app-location>

<app-route
    route="{{route}}"
    pattern="[[rootPath]]:page"
    data="{{routeData}}"
    tail="{{subroute}}">
</app-route>
<app-route
    route="{{route}}"
    pattern="[[rootPath]]:page/:id"
    data="{{routeData}}"
    tail="{{subroute}}">
</app-route>

  <div >
<app-drawer-layout fullbleed narrow="{{narrow}}">
  <!-- Drawer content -->
  <!-- persistent$="{{!loggedin}}" -->
    <app-drawer id="drawer" slot="drawer" swipe-open="[[narrow]]" >
      <app-toolbar></app-toolbar>
      <iron-selector selected="[[page]]" attr-for-selected="name" class="drawer-list" role="navigation">
          <a name="home" href="[[rootPath]]home">Home</a>          
        <div hidden$="{{!loggedin}}">
            <div hidden$="{{!isNGO}}"><a name="ngodashboard" href="[[rootPath]]ngodashboard" >Published Works</a></div>
            <div hidden$="{{isNGO}}"><a name="donordashboard" href="[[rootPath]]donordashboard" >Published Works</a></div>
          <a name="logout" on-click="logout">Logout</a>
        </div>
        <div hidden$="{{loggedin}}">
          <a name="login"href="[[rootPath]]login">Login</a>
          <a name="register" href="[[rootPath]]register">Register</a>
        </div>
      </iron-selector>
    </app-drawer> 
  <!-- Main content -->
  <app-header-layout has-scrolling-region>

    <app-header slot="header" condenses reveals effects="waterfall">
      <app-toolbar>
        <paper-icon-button icon="default-icons:menu" drawer-toggle></paper-icon-button>
        <div main-title>Donate App</div>
         <!-- <div class="userHeading">Hi {{user.firstName}}  {{user.lastName}}</div> -->
      </app-toolbar>
    </app-header>

    <iron-pages 
                selected="[[page]]"
                attr-for-selected="name"
                fallback-selection="view404"
                role="main">
        <home-page name="home"></home-page>
        <work-list name="worklist"></work-list>
        <ngo-dashboard name="ngodashboard"></ngo-dashboard>
        <publish-work name="publishwork"></publish-work>
        <donor-dashboard name="donordashboard"></donor-dashboard>
        <work-detail name="workdetail"></work-detail>
        <subscribed-user name="subscribeduser"></subscribed-user>
        <login-page name="login"></login-page>
        <register-page name="register"></register-page>
        <my-view404 name="view404"></my-view404>
    </iron-pages>
  </app-header-layout>
</app-drawer-layout>
</div>
<paper-toast id="errorToast" text="{{error}}" opened="{{show}}" class="toast">
    <iron-icon icon = "close" on-click="toggleError" class="toastCancel"></iron-icon>
</paper-toast>
